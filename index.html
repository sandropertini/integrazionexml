<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Smontaggio 3D con Procedura</title>
    <style>
        body { 
            margin: 0; 
            display: flex; 
            font-family: Arial, sans-serif; 
        }
        #viewer { 
            width: 70%; 
            height: 100vh; 
            border: none; 
        }
        #procedure { 
            width: 30%; 
            height: 100vh; 
            padding: 20px; 
            overflow-y: auto; 
            background: #fff; 
            border-left: 2px solid #ccc; 
        }
        #procedure h2 { 
            font-size: 1.5em; 
            margin-bottom: 10px; 
        }
        #procedure ol { 
            padding-left: 20px; 
        }
        #procedure li { 
            margin: 10px 0; 
        }
    </style>
</head>
<body>
    <!-- Iframe per richiamare 3D.html -->
    <iframe id="viewer" src="3D.html"></iframe>

    <!-- Sezione per la procedura testuale -->
    <div id="procedure">
        <h2>Procedura di Smontaggio</h2>
        <ol id="steps"></ol>
    </div>

    <!-- Script per caricare e parsare DEMO.xml -->
    <script>
        fetch('DEMO.xml')
            .then(response => response.text())
            .then(data => {
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(data, 'text/xml');
                
                // Estrazione dei passaggi procedurali da DEMO.xml
                const steps = xmlDoc.getElementsByTagName('proceduralStep');
                const stepList = document.getElementById('steps');
                
                for (let i = 0; i < steps.length; i++) {
                    const para = steps[i].getElementsByTagName('para')[0];
                    const stepText = para ? para.textContent : 'Passaggio non disponibile';
                    const li = document.createElement('li');
                    li.textContent = `${i + 1}. ${stepText}`;
                    stepList.appendChild(li);
                }
            })
            .catch(error => console.error('Errore nel caricamento del file XML:', error));
    </script>
</body>
</html>
